<%- include('./partials/header') %>
	<!-- **************** MAIN CONTENT START **************** -->
	<main>
		<%- include('./partials/agentHeader') %>
			<!-- =======================
Page Banner START -->
			<section class="pb-0">
				<div class="container">
					<div class="row">
						<div class="col-12 text-center">
							<h1 class="fs-2 mb-2">Add New Inventory</h1>
							<p class="mb-0">Praise effects wish change way and any wanted. Lively use looked latter
								regard had.</p>
						</div>
					</div>
				</div>
			</section>
			<!-- =======================
Page Banner END -->

			<!-- ======================= Main content START -->
			<section>
				<div class="container">
					<div class="row">
						<div class="col-lg-10 mx-auto">
							<form class="vstack gap-4">

								<!-- Inventory Detail START -->
								<div class="card shadow">
									<!-- Card header -->
									<!-- <div>
							<ul class="nav nav-tabs">
								<li class="nav-item">
								   <a class="nav-link active" aria-current="page" href="#">One Way</a>
								</li>
								<li class="nav-item">
								   <a class="nav-link" href="#" aria-current="page">Connecting Flight</a>
								</li>
							</ul>
						</div> -->
									<div class="card-header border-bottom">
										<h5 class="mb-0">Add Flight Details</h5>
									</div>

									<!-- Card body -->
									<div class="card-body">
										<div class="row g-3">
											<!-- Inventory name -->
											<div class="col-md-4">
												<label class="form-label">Inventory Name</label>
												<input type="text" class="form-control" placeholder="Inventory name">
											</div>

											<!-- Dates -->
											<div class="col-md-4">
												<label class="form-label">Inventory Departure Date</label>
												<input class="form-control" type="text"
													placeholder="Enter departure date" id="dateInput" />
											</div>

											<!-- Disable -->
											<div class="col-md-4">
												<label class="form-label">Disable Before Departure (Days)</label>
												<select class="form-select js-choice" data-search-enabled="true">
													<option value="">Select days</option>
													<option>1</option>
													<option>2</option>
													<option>3</option>
													<option>4</option>
													<option>5</option>
												</select>
											</div>

											<!-- From -->
											<div class="col-md-3">
												<label class="form-label">From</label>
												<select class="form-select" id="fromSelect" data-search-enabled="true">
													<option value="">Select From</option>
												</select>
											</div>

											<!-- To -->
											<div class="col-md-3">
												<label class="form-label">To</label>
												<select class="form-select " id="toSelect" data-search-enabled="true">
													<option value="">Select To</option>
												</select>
											</div>

											<!-- Airline -->
											<div class="col-md-3">
												<label class="form-label">Airline</label>
												<select class="form-select" id="airlineSelect" data-search-enabled="true">
													<option value="">Select Airline</option>
												</select>
											</div>

											<!-- Flight Number -->
											<div class="col-md-3">
												<label class="form-label">Flight Number</label>
												<input type="text" class="form-control" placeholder="Flight number">
											</div>

											<!-- Departure Time -->
											<div class="col-md-3">
												<label class="form-label">Departure Time</label>
												<input type="time" class="form-control" placeholder="Select Time">
											</div>

											<!-- Arrival Time -->
											<div class="col-md-3">
												<label class="form-label">Arrival Time</label>
												<input type="time" class="form-control" placeholder="Select Time">
											</div>

											<!-- Arrival Day -->
											<div class="col-md-3">
												<label class="form-label">Arrival Day</label>
												<input type="text" class="form-control" placeholder="Select Arrival Day"
													id="dateInput" />
											</div>
										</div>

										<div class="row g-3">
											<div class="col-12">
												<div class="position-relative my-4 mt-4 mb-3">
													<hr />
													<p class="position-absolute top-50 translate-middle start-0 bg-mode px-2"
														style="left: 57px !important;">
														Baggage Details
													</p>
												</div>
												<div class="row g-3">
													<div class="baggage col-12 mb-1 align-items-center"
														style="font-size: 0.9em; gap: 10px;background-color: #f8f9fa; padding: 10px;">
														<!-- Passenger Type -->
														<div class="col-md-1" style="border-right: 1px solid #dee2e6;">
															<i class="fa-solid fa-person fa-fw me-1"></i>
															<label class="form-label mb-0">Adult</label>
														</div>

														<!-- Check-In Baggage -->
														<div>
															<label class="form-label mb-0">Check In</label>
														</div>
														<div class="col-md-2">
															<input type="number" class="form-control"
																placeholder="Number of Pieces">
														</div>
														<div class="col-md-2">
															<input type="number" class="form-control"
																placeholder="Weight(KG)/Piece">
														</div>

														<!-- Cabin Baggage -->
														<div>
															<label class="form-label mb-0">Cabin</label>
														</div>
														<div class="col-md-2">
															<input type="number" class="form-control"
																placeholder="Number of Pieces">
														</div>
														<div class="col-md-2">
															<input type="number" class="form-control"
																placeholder="Weight(KG)/Piece">
														</div>
													</div>

													<div class="baggage col-12 mb-1 align-items-center"
														style="font-size: 0.9em; gap: 10px;background-color: #f8f9fa; padding: 10px;">
														<!-- Passenger Type -->
														<div class="col-md-1" style="border-right: 1px solid #dee2e6;">
															<i class="fa-solid fa-child fa-fw me-1"></i>
															<label class="form-label mb-0">Child</label>
														</div>

														<!-- Check-In Baggage -->
														<div>
															<label class="form-label mb-0">Check In</label>
														</div>
														<div class="col-md-2">
															<input type="number" class="form-control"
																placeholder="Number of Pieces">
														</div>
														<div class="col-md-2">
															<input type="number" class="form-control"
																placeholder="Weight(KG)/Piece">
														</div>

														<!-- Cabin Baggage -->
														<div>
															<label class="form-label mb-0">Cabin</label>
														</div>
														<div class="col-md-2">
															<input type="number" class="form-control"
																placeholder="Number of Pieces">
														</div>
														<div class="col-md-2">
															<input type="number" class="form-control"
																placeholder="Weight(KG)/Piece">
														</div>
													</div>

													<div class="baggage col-12 mb-2 align-items-center"
														style="font-size: 0.9em; gap: 10px;background-color: #f8f9fa; padding: 10px;">
														<!-- Passenger Type -->
														<div class="col-md-1" style="border-right: 1px solid #dee2e6;">
															<i class="fa-solid fa-baby fa-fw me-1"></i>
															<label class="form-label mb-0">Infant</label>
														</div>

														<!-- Check-In Baggage -->
														<div>
															<label class="form-label mb-0">Check In</label>
														</div>
														<div class="col-md-2">
															<input type="number" class="form-control"
																placeholder="Number of Pieces">
														</div>
														<div class="col-md-2">
															<input type="number" class="form-control"
																placeholder="Weight(KG)/Piece">
														</div>

														<!-- Cabin Baggage -->
														<div>
															<label class="form-label mb-0">Cabin</label>
														</div>
														<div class="col-md-2">
															<input type="number" class="form-control"
																placeholder="Number of Pieces">
														</div>
														<div class="col-md-2">
															<input type="number" class="form-control"
																placeholder="Weight(KG)/Piece">
														</div>
													</div>

												</div>
											</div>

										</div>
										<!-- PNR and Fare -->
										<div class="row g-3">
											<div class="col-12">
												<div class="position-relative my-4 mt-4 mb-4">
													<hr />
													<p class="position-absolute top-50 translate-middle start-0 bg-mode px-2"
														style="left: 90px !important;">
														Add PNR and Fare Details
													</p>
												</div>
												<div class="row">
													<div class="table-responsive">

													<table class="table custom-border text-center p-0"
														style="font-size: 0.9em;">
														<thead class="table-light">
															<tr>
																<th>Inventory Added Dates</th>
																<th>PNR</th>
																<th>Number of Seats</th>
																<th>Fare-Adults(12y+)</th>
																<th>Fare-Infant(Below 2y)</th>
															</tr>
														</thead>
														<tbody>
															<tr>
																<td>
																	<div class="d-flex">
																		<span class="input-group-text rounded-0"><i
																				class="bi bi-calendar"></i></span>
																		<input type="text" id="dateInput"
																			class="form-control"
																			placeholder="Select date">
																	</div>
																</td>
																<td>
																	<input type="text" class="form-control"
																		placeholder="e.g. 23">
																</td>
																<td>
																	<input type="number" class="form-control"
																		placeholder="e.g. 1">
																</td>
																<td>
																	<div class="d-flex">
																		<span class="input-group-text rounded-0"><i
																				class="fa-solid fa-indian-rupee-sign"></i></span>
																		<input type="number" class="form-control"
																			placeholder="e.g. 7">
																	</div>
																</td>
																<td>
																	<div class="d-flex">
																		<span class="input-group-text rounded-0"><i
																				class="fa-solid fa-indian-rupee-sign"></i></span>
																		<input type="number" class="form-control"
																			placeholder="e.g. 7">
																	</div>
																</td>
															</tr>
														</tbody>
													</table>
													</div>
												</div>

											</div>
										</div>

									</div>
								</div>
								<!-- Inventory Detail END -->



								<!-- Button -->
								<div class="text-end">
									<a href="listing-added.html" class="btn btn-primary mb-0">Add listing</a>
								</div>
							</form>
						</div>
					</div>
				</div>
			</section>
			<!-- ======================= Main content END -->

			<style>
				input::-webkit-input-placeholder {
					font-size: 0.8em;
				}

				.custom-border {
					border: 2px solid #dee2e6;
					border-collapse: separate;
					border-spacing: 0;
				}

				.custom-border th,
				.custom-border td {
					border: none;
				}

				.form-control {
					border-radius: 0;
				}

				@media screen and (max-width: 768px) {
					.baggage{
						display: block;
					}
					
				}
				@media screen and (min-width: 768px) {
					.baggage{
						display: flex;
					}
					
				}
			</style>

			<!-- Flatpickr JS -->
			<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
			<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>

			<script>
				flatpickr("#dateInput", {
					dateFormat: "d M y",
					defaultDate: "today",
					allowInput: true
				});
			</script>

	<!-- <script>
				document.addEventListener("DOMContentLoaded", function () {
					const fromSelect = document.getElementById('fromSelect');
					const toSelect = document.getElementById('toSelect');

					fetch('https://raw.githubusercontent.com/jbrooksuk/JSON-Airports/master/airports.json')
						.then(response => response.json())
						.then(data => {
							
							// Filter airports with valid IATA codes
							const airports = data.filter(airport => airport.iata && airport.name && airport.iata.length === 3);

							const createOption = (airport) => {
								const option = document.createElement('option');
								option.value = airport.iata;
								option.textContent = `${airport.name} (${airport.iata})`;
								return option;
							};

							airports.forEach(airport => {
								fromSelect.appendChild(createOption(airport));
								toSelect.appendChild(createOption(airport));
							});

							// Initialize Choices AFTER population
							if (!fromSelect.classList.contains('choices__input')) {
								new Choices(fromSelect, {
									searchEnabled: true,
									shouldSort: false,
									placeholder: true,
									placeholderValue: 'Select From Airport',
									allowHTML: true
								});
							}

							if (!toSelect.classList.contains('choices__input')) {
								new Choices(toSelect, {
									searchEnabled: true,
									shouldSort: false,
									placeholder: true,
									placeholderValue: 'Select To Airport',
									allowHTML: true
								});
							}

						})
						.catch(error => {
							console.error('Error fetching airports:', error);
						});
				});
			</script> -->

	<script>
		document.addEventListener("DOMContentLoaded", function () {
    const airlineSelect = document.getElementById('airlineSelect');
    const apiKey = 'Lgv8DqhTs1aoiA7rQykK8w==tN5MZOc6787IWL5g'; // Replace with your actual API key

    fetch('https://api.api-ninjas.com/v1/airlines', {
        headers: { 'X-Api-Key': apiKey }
    })
    .then(response => response.json())
    .then(data => {
        data.forEach(airline => {
            const option = document.createElement('option');
            option.value = airline.iata; // Airline IATA code
            option.textContent = `${airline.name} (${airline.iata})`;
            airlineSelect.appendChild(option);
        });
    })
    .catch(error => {
        console.error('Error fetching airlines:', error);
    });
});

	</script>


	</main>
	<!-- **************** MAIN CONTENT END **************** -->

	<%- include('./partials/agentFooter') %>