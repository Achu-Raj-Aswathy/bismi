<%- include('./partials/header') %>

<main>
  <%- include('./partials/sideBar') %>

  <div class="page-content">
    <%- include('./partials/topBar') %>

    <div class="container mt-4">
      <h3>Manage Subscriptions</h3>

      <!-- Show Subscriptions -->
      <!-- <table class="table table-bordered">
        <thead>
          <tr>
            <th>Type</th>
            <th>Limit</th>
            <th>Max Amount</th>
            <th>Price</th>
            <th>Charge</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% subscriptions.forEach(sub => { %>
            <tr>
              <td><%= sub.subscription %></td>
              <td><%= sub.transactionLimit %></td>
              <td><%= sub.maxTransactionAmount %></td>
              <td><%= sub.price %></td>
              <td><%= sub.serviceCharge %></td>
              <td>
                <a href="/admin/edit-subscription/<%= sub._id %>" class="btn btn-warning btn-sm">Edit</a>
                    <form action="/admin/delete-subscription/<%= sub._id %>" method="POST" style="display:inline;" onsubmit="return confirm('Are you sure to delete this?')">
                  <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                </form>
              </td>
            </tr>
          <% }) %>
        </tbody>
      </table> -->
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const categorySelect = document.getElementById("categorySelect");
      const subscriptionSelect = document.getElementById("subscriptionSelect");
    
      const plans = {
        User: ["Free", "Pro", "Enterprise"],
        Agent: ["Starter", "Enterprise"]
      };
    
      categorySelect.addEventListener("change", function () {
        const selectedCategory = categorySelect.value;
        const availablePlans = plans[selectedCategory] || [];
    
        // Clear current options
        subscriptionSelect.innerHTML = "";
    
        // Add new options
        availablePlans.forEach(plan => {
          const option = document.createElement("option");
          option.value = plan;
          option.textContent = plan;
          subscriptionSelect.appendChild(option);
        });
      });
    });
    </script>
    
</main>

<%- include('./partials/footer') %>
